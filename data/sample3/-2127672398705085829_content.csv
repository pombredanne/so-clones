"Content"
"    import AssetsLibrary&#xD;&#xA;    &#xD;&#xA;    ...&#xD;&#xA;    ...&#xD;&#xA;    &#xD;&#xA;    func downloadVideoToCameraRoll() {&#xD;&#xA;    // Local variable pointing to the local file path for the downloaded video&#xD;&#xA;    var localFileUrl: String?&#xD;&#xA;    // A closure for generating the local file path for the downloaded video. This will be pointing to the Documents directory with a unique UDID file name.&#xD;&#xA;    let destination: (NSURL, NSHTTPURLResponse) -> (NSURL) = {&#xD;&#xA;        (temporaryURL, response) in&#xD;&#xA;        if let directoryURL = NSFileManager.defaultManager().URLsForDirectory(.DocumentDirectory, inDomains: .UserDomainMask)[0] as? NSURL {&#xD;&#xA;            let finalPath = directoryURL.URLByAppendingPathComponent(""""""""\(NSUUID()).\(response.suggestedFilename!)"""""""")&#xD;&#xA;            localFileUrl = finalPath.absoluteString&#xD;&#xA;            return finalPath&#xD;&#xA;        }&#xD;&#xA;        return temporaryURL&#xD;&#xA;    }&#xD;&#xA;    // The media post which should be downloaded&#xD;&#xA;    let postURL = NSURL(string: """"""""https://api.instagram.com/v1/media/"""""""" + """"""""952201134785549382_250131908"""""""" + """"""""?access_token="""""""" + InstagramEngine.sharedEngine().accessToken)!&#xD;&#xA;    // Then some magic happens that turns the postURL into the videoURL, which is the actual url of the video media:&#xD;&#xA;    let videoURL = NSURL(string: """"""""https://scontent.cdninstagram.com/hphotos-xfp1/t50.2886-16/11104555_1603400416544760_416259564_s.mp4"""""""")!&#xD;&#xA;    // Download starts&#xD;&#xA;    let request = Alamofire.download(.GET, videoURL, destination)&#xD;&#xA;    // Completion handler for the download&#xD;&#xA;    request.response { (request, response, data, error) -> Void in&#xD;&#xA;        if let path = localFileUrl {&#xD;&#xA;            let isVideoCompatible = UIVideoAtPathIsCompatibleWithSavedPhotosAlbum(path)&#xD;&#xA;            println(""""""""bool: \(isVideoCompatible)"""""""") // This logs out """"""""bool: false""""""""&#xD;&#xA;            let library = ALAssetsLibrary()&#xD;&#xA;            library.writeVideoAtPathToSavedPhotosAlbum(NSURL(string: path), completionBlock: { (url, error) -> Void in&#xD;&#xA;                // Done! Go check your camera roll&#xD;&#xA;            })&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;    }"
