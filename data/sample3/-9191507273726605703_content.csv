"Content"
"    def create       &#xD;&#xA;      @video = Video.find(params[:video_id])&#xD;&#xA;      @vote = current_user.video_votes.find_or_create_by_video_id(@video.id)&#xD;&#xA;      &#xD;&#xA;      if @vote.value.nil?&#xD;&#xA;        if params[:type] == """"""""up""""""""&#xD;&#xA;          @vote.value = 1&#xD;&#xA;        else&#xD;&#xA;          @vote.value = -1&#xD;&#xA;        end&#xD;&#xA;      elsif (params[:type] == """"""""up"""""""" && @vote.value == 1) || (params[:type] == """"""""down"""""""" && @vote.value == -1)&#xD;&#xA;        @vote.value = 0&#xD;&#xA;      elsif ((params[:type] == """"""""up"""""""" && @vote.value == -1) || (params[:type] == """"""""down"""""""" && @vote.value == 1)) || (@vote.value == 0)&#xD;&#xA;        if params[:type] == """"""""up""""""""&#xD;&#xA;          @vote.value = 1&#xD;&#xA;        else&#xD;&#xA;          @vote.value = -1&#xD;&#xA;        end&#xD;&#xA;      end  &#xD;&#xA;     &#xD;&#xA;      if @vote.save&#xD;&#xA;        respond_to do |format|&#xD;&#xA;          format.html { redirect_to @video }&#xD;&#xA;          format.js&#xD;&#xA;        end&#xD;&#xA;      else&#xD;&#xA;        respond_to do |format|&#xD;&#xA;          format.html { redirect_to @video }&#xD;&#xA;          format.js {render 'fail_create.js.erb'}&#xD;&#xA;        end&#xD;&#xA;      end   &#xD;&#xA;    end"
